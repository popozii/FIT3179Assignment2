{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "autosize": {"type":"fit","contains":"padding"},
  "width": "container",
  "height": 600,
  "projection": {"type":"mercator","center":[110,4],"scale":2000},
  "layer": [
    {
      "name": "ocean-sphere",
      "data": {
        "values": {
          "type": "FeatureCollection",
          "features": [
            { "type": "Feature", "geometry": {"type": "Sphere"} }
          ]
        }
      },
      "mark": {"type":"geoshape", "stroke": null},
      "encoding": {"color": {"value": "#eaf6ff"}}
    },
    {
      "name": "graticule",
      "data": {
        "url": "https://raw.githubusercontent.com/EeGwen/FIT3179-Data-Visualisation-2/refs/heads/main/js/ne_110m%20(2).json",
        "format": {"type": "topojson", "feature": "ne_110m_graticules_15"}
      },
      "mark": {"type":"geoshape", "fill": null, "stroke": "#cfcfcf", "strokeWidth": 0.6, "opacity": 0.6}
    },
    {
      "name": "lakes",
      "data": {
        "url": "https://raw.githubusercontent.com/EeGwen/FIT3179-Data-Visualisation-2/refs/heads/main/js/ne_110m%20(2).json",
        "format": {"type":"topojson", "feature": "ne_110m_lakes"}
      },
      "mark": {"type":"geoshape", "stroke": null},
      "encoding": {
        "color": {"value": "#d6f0ff"},
        "opacity": {"value": 0.85}
      }
    },
    {
      "name": "rivers",
      "data": {
        "url": "https://raw.githubusercontent.com/EeGwen/FIT3179-Data-Visualisation-2/refs/heads/main/js/ne_110m%20(2).json",
        "format": {"type":"topojson", "feature": "ne_110m_rivers_lake_centerlines"}
      },
      "mark": {"type":"geoshape", "fill": null, "stroke": "#7fb3d5", "strokeWidth": 0.7, "opacity": 0.85}
    },
    {
      "name": "countries",
      "data": {
        "url": "https://raw.githubusercontent.com/EeGwen/FIT3179-Data-Visualisation-2/refs/heads/main/js/ne_110m%20(2).json",
        "format": {"type":"topojson","feature":"ne_110m_admin_0_countries"}
      },
      "mark": {"type":"geoshape","fill":"#f3f4f7","stroke":"#c9c9cf","strokeWidth":0.6}
    },
    {
      "name": "ne_cities",
      "data": {
        "url": "https://raw.githubusercontent.com/EeGwen/FIT3179-Data-Visualisation-2/refs/heads/main/js/ne_110m%20(2).json",
        "format": {"type":"topojson","feature":"ne_110m_populated_places"}
      },
      "mark": {"type":"circle","size":20,"fill":"#444","opacity":0.9,"stroke":"#fff","strokeWidth":0.6},
      "encoding": {
        "longitude": {"field": "properties.LONGITUDE", "type":"quantitative"},
        "latitude": {"field": "properties.LATITUDE", "type":"quantitative"},
        "tooltip": [
          {"field":"properties.NAME","type":"nominal","title":"City"},
          {"field":"properties.POP_MAX","type":"quantitative","title":"Population (max)"}
        ]
      }
    },
    {
      "name": "aqi_points",
      "data": { "values": [] },
      "mark": {"type":"circle","stroke":"#ffffff","strokeWidth":0.7,"opacity":0.95},
      "encoding": {
        "longitude": {"field":"Longitude","type":"quantitative"},
        "latitude": {"field":"Latitude","type":"quantitative"},
        "size": {"value": 50},
        "color": {
          "field": "Air Pollution Level",
          "type": "nominal",
          "scale": {
            "domain": ["Good","Moderate","Unhealthy","Very Unhealthy","Hazardous"],
            "range": ["#2ca02c", "#ffcc00", "#ff7f0e", "#6a0dad", "#5c4033"]
          },
          "legend": {"title":"Air Pollution Level"}
        },
        "tooltip": [
          {"field":"City","type":"nominal","title":"City"},
          {"field":"State","type":"nominal","title":"State"},
          {"field":"API","type":"quantitative","title":"API"},
          {"field":"Air Pollution Level","type":"nominal","title":"Level"},
          {"field":"Month","type":"nominal","title":"Month"},
          {"field":"Observations","type":"quantitative","title":"Observations"}
        ]
      }
    }
  ]
}
